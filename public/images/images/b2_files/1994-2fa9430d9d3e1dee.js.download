!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7b637815-7244-49e6-8346-49ba83d88123",e._sentryDebugIdIdentifier="sentry-dbid-7b637815-7244-49e6-8346-49ba83d88123")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1994,4390],{67677:function(e,t,n){n.d(t,{D:function(){return A}});var r=n(97458),o=n(23113),a=n(2200),i=n(19974),l=n(48681),s=n(52983),u=n(47152),d=n(86101),c=n(79235),m=n(770),f=n(9249),h=n(80712),v=n(63918),p=n(57291),b=n(7616),x=n(10893),g=n(9217),_=n(94498),w=n(26013),j=n(11031);let C=(0,s.forwardRef)((e,t)=>{let{isCollapsed:n,onClick:a,mode:i,tooltipProps:l={side:"top"},buttonClassName:s,labelClassName:u,showLabel:C=!0,oldStyle:y=!1}=e,{t:N}=(0,x.$G)("detailCommon"),I=(0,o.a)("lg"),R=(0,c.nD)(),T=(0,b.Dv)(_.mX),D=N("saveToCollection"),k=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.T,{children:D}),(0,r.jsx)(m.J,{as:T?v.Z:h.Z,size:"base",className:(0,p.cx)(T&&"animate-spin")})]}),O=y?j.Mw:w.aD,A=(0,r.jsxs)("button",{className:n?w.tw:O,onClick:a,"data-cy":"add-to-collection-thumbnail",ref:t,children:[k,n&&(0,r.jsx)("span",{children:D})]});return("large"===i&&(A=(0,r.jsxs)("button",{className:null!=s?s:g.LI(),onClick:a,ref:t,children:[k,C&&(0,r.jsx)("span",{className:null!=u?u:g.PS(),children:D})]})),!I||n)?A:(0,r.jsx)(d.u,{...l,trigger:A,triggerAsChild:!0,hideOnLeaveHover:!0,container:R.current,children:D})});var y=n(1070),N=n(80389),I=n(35117),R=n(88659),T=n(24096);let D=(0,s.forwardRef)((e,t)=>{let{mode:n,tooltipProps:o,buttonClassName:a,showLabel:i,labelClassName:l,type:s,renderTrigger:d}=e,{onButtonOpenClick:c,isOpen:m}=(0,R.r)(),f=(0,u.U)().isCollapsed;return d?d({onClick:c,isOpen:m,ref:t}):(0,r.jsx)(C,{isCollapsed:f,onClick:c,mode:null!=n?n:"normal",tooltipProps:o,buttonClassName:a,showLabel:i,labelClassName:l,oldStyle:"icon"===s,ref:t})}),k=e=>{let{trigger:t}=e,{isOpen:n,handleOpenChange:o,collectionIdsLoading:a,handleAddToCollection:i,handleRemoveFromCollection:s,responseCollections:u}=(0,R.r)(),{handleCreate:d}=(0,T.$)();return(0,r.jsxs)(r.Fragment,{children:[t,(0,r.jsx)(l.u,{open:n,onOpenChange:o,fullHeight:!0,size:"full",paddingY:"none",paddingX:"none",thumbnail:!0,children:(0,r.jsx)(N.L,{onAddToCollection:i,onRemoveFromCollection:s,onCreateCollection:d,collectionIdsLoading:a,responseCollections:u})})]})},O=e=>{var t;let{trigger:n,isMenuAction:o,containerRef:l}=e,u=(0,a.n)(),{isOpen:d,collectionIdsLoading:c,responseCollections:m,handleOpenChange:f,handleAddToCollection:h,handleRemoveFromCollection:v}=(0,R.r)(),{handleCreate:p}=(0,T.$)(),b=(0,s.useCallback)(()=>{f(!1)},[f]);return(0,y.h)({containerRef:l,isOpen:d,onClose:b}),(0,r.jsxs)(i.fC,{open:d,onOpenChange:f,children:[(0,r.jsx)(i.xz,{asChild:!0,children:(0,r.jsx)("div",{children:n})}),(0,r.jsx)(i.h_,{container:null!==(t=null==l?void 0:l.current)&&void 0!==t?t:null==u?void 0:u.current,children:(0,r.jsx)(i.VY,{align:"start",side:"left",sideOffset:6,onInteractOutside:e=>o&&e.preventDefault(),className:"z-[1]",children:(0,r.jsx)(N.L,{onAddToCollection:h,onRemoveFromCollection:v,onCreateCollection:p,collectionIdsLoading:c,responseCollections:m})})})]})},A=e=>{let{type:t,id:n,location:a,mode:i,tooltipProps:l,buttonClassName:s,showLabel:u,labelClassName:d,renderTrigger:c,withProvider:m=!0,isMenuAction:f,containerRef:h}=e,v=(0,o.a)("smMax"),p=(0,r.jsx)(D,{mode:i,tooltipProps:l,buttonClassName:s,showLabel:u,labelClassName:d,type:t,renderTrigger:c}),b=v?k:O;return m?(0,r.jsx)(I.u,{id:n,type:t,location:a,children:(0,r.jsx)(b,{trigger:p,isMenuAction:f,containerRef:h})}):(0,r.jsx)(b,{trigger:p,isMenuAction:f,containerRef:h})}},24096:function(e,t,n){n.d(t,{$:function(){return l}});var r=n(19170),o=n(52983),a=n(89310),i=n(88659);let l=()=>{let{openToast:e}=(0,r.x_)(),{handleAddToCollection:t}=(0,i.r)();return{handleCreate:(0,o.useCallback)(async n=>{if(0===n.length)return;let r=await (0,a.B)({name:n,description:"",type:"private"});r.success?t(r.data.id,n):e()},[t,e])}}},38741:function(e,t,n){n.r(t),n.d(t,{AddToCollection:function(){return r.D}});var r=n(67677)},28851:function(e,t,n){n.r(t),n.d(t,{VideoContentComponent:function(){return c}});var r=n(97458),o=n(23113),a=n(62897),i=n(57291),l=n(78364),s=n(52983),u=n(3223),d=n(65229);let c=e=>{let{duration:t,videoSrc:n,poster:c,isInViewport:f,classNames:h="",pauseAndPlay:v=!1,id:p=0,premium:b=!1,position:x=0,enableGaTracker:g=!1,checkHover:_=!1,orientation:w}=e,j=(0,o.a)("lg"),C=(0,s.useRef)(null),y=(0,s.useRef)(null),N=(0,s.useRef)(),I=(0,s.useRef)(!1),R=(0,s.useRef)(!1),T=(0,s.useCallback)(()=>{let e=y.current;e&&(N.current=setTimeout(()=>{var t,n,r;e.src=e.dataset.src,v?(I.current||(null===(n=C.current)||void 0===n||n.load(),I.current=!0),null===(t=C.current)||void 0===t||t.play()):null===(r=C.current)||void 0===r||r.load()},150))},[v]),D=(0,s.useCallback)(()=>{clearTimeout(N.current);let e=y.current;if(e){var t,n;v?null===(t=C.current)||void 0===t||t.pause():(e.removeAttribute("src"),null===(n=C.current)||void 0===n||n.load())}},[v]),k=(0,u.z)({id:p,type:"video",premium:b,position:x}),O=(0,s.useCallback)(()=>{R.current||(k(),R.current=!0)},[k]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("video",{width:480,height:270,className:(0,l.W)(h,d.R),ref:C,preload:"metadata",onLoadStart:()=>{g&&O()},autoPlay:j,poster:c,muted:!0,playsInline:!0,loop:!0,"aria-hidden":"true",children:f&&(0,r.jsx)("source",{ref:y,"data-src":n,type:"video/mp4"})}),(0,r.jsx)("div",{className:"pointer-events-auto absolute inset-0","aria-hidden":"true",onMouseOver:T,onMouseOut:D}),f&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{role:"presentation",className:m({checkHover:_})}),(0,r.jsx)("header",{className:(0,i.cx)("pointer-events-none absolute flex w-full max-w-[calc(100%-20px)] items-baseline justify-end gap-1 transition-all","vertical"!==w?"bottom-4 mx-1":"bottom-3 mx-2"),children:!!t&&(0,r.jsx)("div",{className:"rounded-xl bg-overlay-dialog px-2 py-1 text-xs font-semibold text-white opacity-100 group-hover:opacity-0",children:(0,a.Z)(null!=t?t:0)})})]})]})},m=(0,i.j)("pointer-events-none absolute inset-0 rounded-xl opacity-0 transition-opacity [background:linear-gradient(180deg,rgba(0,0,0,0.1)_0%,rgba(0,0,0,0.4)_100%)] group-hover:opacity-100",{variants:{checkHover:{false:"[article:hover_&]:opacity-100",true:""}}})},65229:function(e,t,n){n.d(t,{R:function(){return r}});let r="block absolute w-full h-full object-cover object-center $overflow-hidden rounded-xl left-0 top-0 right-0 bottom-0"},64390:function(e,t,n){n.r(t),n.d(t,{DownloadVideoButton:function(){return O}});var r=n(97458),o=n(86101),a=n(79235),i=n(770),l=n(9249),s=n(19213),u=n(63918),d=n(57291),c=n(10893),m=n(87591),f=n(50829),h=n(17722),v=n(35103),p=n(72234),b=n(65122),x=n(20176),g=n(85229),_=n(46700),w=n(52983),j=n(50987),C=n(65724),y=n(9036),N=n(33247),I=n(47874),R=n(35576),T=n(14534),D=n(68344);let k=e=>{let{resourceId:t,premium:n,quality:r,authorName:o,orientation:a,poster:i,name:l,trackActivated:s,itemSubtype:u}=e,d=(0,b.e)(),[c,m]=(0,w.useState)(!1),f=(0,_.V)(),{isUserWinback:h,showWinbackModal:v}=(0,g.l)(),k=(0,D.G)({resourceId:t,location:"thumbnail",origin:"resource_thumbnail",limitModalMediaUrl:i,resourceName:l}),O=(0,R.mS)(),A=(0,y.TH)({action:"download",location:"thumbnail",file_id:t,license:n?"premium":"free",resolution:r,author_name:o,category:"video",aspect_ratio:a}),E=(0,p.Lh)(),P=(0,C.W)(t,"video","resource_thumbnail"),{showAttribution:L}=(0,j.J)(),S=(0,N.R)(),{showDeviceBlockedModal:V,isDeviceBlocked:z}=(0,x.q)(),F=S({authorName:o,isAIGenerated:!1,type:"video",isPremium:n,eventName:"download__thumbnail",subtype:u}),M=(0,w.useCallback)(()=>{O({resourceId:t,isResourcePremium:n,resourceType:"video",downloadType:"download"})},[O,t,n]);return{download:(0,w.useCallback)(async()=>{if(h){v();return}if(n&&!d){P({origin:"resource_thumbnail",resourceData:{name:l,resourceType:"video",mediaUrl:i},checkoutQueryParams:F,onButtonClick:M});return}if(s&&O({resourceId:t,isResourcePremium:n||!1,resourceType:"video"}),z){V();return}m(!0);let e=await (0,T.S)({videoId:t,orientation:a,walletId:E});if(e.success){f(e.data.url,e.data.filename);let t=(0,I.z)(e.data.filename);s&&A({fileExtension:t}),L()}else k(e,F);m(!1)},[n,d,z,h,t,a,E,P,l,i,F,M,V,v,f,s,L,O,A,k]),isDownloading:c,userPremium:d}},O=e=>{let{resourceId:t,quality:n,premium:d,authorName:p,orientation:b,trackActivated:x=!0,name:g,poster:_,itemSubtype:w,creditCost:j}=e,{t:C}=(0,c.$G)(["detailCommon","common"]),{download:y,isDownloading:N}=k({resourceId:t,quality:n,premium:d,authorName:p,orientation:b,trackActivated:x,name:g,poster:_,itemSubtype:w,creditCost:j}),I=(0,v.O)(d),R=(0,a.nD)(),T=(0,f.C)(),D=(0,r.jsxs)("button",{type:"button",className:A({isDownloading:N}),onClick:()=>{N||I||y()},"data-cy":"download-thumbnail",disabled:!!I||N,children:[(0,r.jsx)(l.T,{children:C("download")}),N?(0,r.jsx)(i.J,{as:u.Z,size:"sm",className:"animate-spin"}):(0,r.jsx)(i.J,{as:s.Z,size:"base"})]});return I?(0,r.jsx)(h.B,{blockStatus:I,container:R.current,children:D}):(0,r.jsx)(o.u,{side:"left",trigger:(0,r.jsx)("div",{children:D}),triggerAsChild:!0,hideOnLeaveHover:!0,container:R.current,children:(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[C("detailCommon:download"),T&&(0,r.jsx)(m.L,{creditCost:j})]})})},A=(0,d.j)("flex size-10 cursor-pointer items-center justify-center rounded-full bg-surface-0 text-surface-foreground-0 shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] hover:bg-surface-3",{variants:{isDownloading:{true:"pointer-events-none cursor-not-allowed"}},defaultVariants:{isDownloading:!1}})},97797:function(e,t,n){n.d(t,{Y:function(){return h}});var r=n(97458),o=n(57291),a=n(52294),i=n(65122),l=n(9249),s=n(41776),u=n(4784),d=n(59470),c=n(63081),m=n(33247);let f=e=>{let{id:t,name:n,poster:o,authorName:a}=e,f=(0,i.e)(),h=(0,m.R)()({type:"video",authorName:a,isPremium:!0,isAIGenerated:!1,eventName:"download__thumbnail_crown"});return h.append("origin","".concat(c.Ej,"_premium_video")),(0,r.jsxs)("span",{className:d.q,"data-cy":"premium-resource-crown",children:[(0,r.jsx)(l.T,{children:"Premium"}),f?(0,r.jsx)(u.s,{}):(0,r.jsx)(s.w,{resource:{id:t,name:n,mediaUrl:o,resourceType:"video"},urlParams:new URLSearchParams(h),category:"video"})]})},h=e=>{let{id:t,name:n,poster:i,authorName:l,isPremium:s,isAIGenerated:u,orientation:d}=e;return(0,r.jsxs)("div",{className:(0,o.cx)("absolute flex","vertical"!==d?"left-4 top-4 gap-2":"left-3 top-3 gap-1"),children:[s&&(0,r.jsx)(f,{id:t,name:n,poster:i,authorName:l}),u&&(0,r.jsx)(a.N,{})]})}},27222:function(e,t,n){n.d(t,{Q:function(){return y}});var r=n(97458),o=n(57291),a=n(38741),i=n(50987),l=n(86101),s=n(2200),u=n(770),d=n(44022),c=n(9249),m=n(28873),f=n(10893),h=n(65122),v=n(69762),p=n(48526);let b=e=>{let{tool:t,location:n,extraParams:r,imageSrc:o,id:a,name:i,authorName:l,posterUrl:s,isPremium:u,isAIGenerated:d,bestAssetForAI:c}=e,m=(0,p.M)({tool:t,location:n,resourceId:a,bestAssetForAI:c}),f=(0,h.e)();return(0,v.F)({tool:t,resource:{id:a,name:i,type:"video",authorName:l,isPremium:u,isAIGenerated:d,groupedType:"video",media:{url:s}},imageSrc:o,canDownloadResource:f||!u,getSignedResource:m,location:n,extraParams:r})};var x=n(52983),g=n(80751);let _=(e,t)=>{let n=(0,h.e)(),r=(0,g.H)(),o=!t||n;return(0,x.useMemo)(()=>r({tool:e,canUserDownloadResource:o}),[e,o,r])};var w=n(17722);let j=e=>{let{id:t,name:n,authorName:o,posterUrl:a,isPremium:i,isAIGenerated:h,bestAssetForAI:v}=e,{t:p}=(0,f.$G)("videosDetail"),x=b({tool:{name:"regenerateVideo"},location:"thumbnail",id:t,name:n,authorName:o,posterUrl:a,isPremium:i,isAIGenerated:h,bestAssetForAI:v,imageSrc:a}),{blockStatus:g}=_("regenerateVideo",i),j=(0,s.n)(),C=!!g,y=(0,r.jsx)(d.h,{variant:"default",shape:"rounded",className:"hover:enabled:bg-surface-3",icon:(0,r.jsx)(u.J,{as:m.Z,size:"base"}),onClick:()=>x(),disabled:C,"data-cy":"thumbnail-menu-regenerate-video",children:(0,r.jsx)(c.T,{children:p("generateSimilarVideo")})});return C?(0,r.jsx)(w.B,{blockStatus:g,container:j.current,children:y}):(0,r.jsx)(l.u,{side:"left",trigger:y,triggerAsChild:!0,hideOnLeaveHover:!0,children:p("generateSimilarVideo")})};var C=n(64390);let y=e=>{let{id:t,poster:n,location:l,author:s,premium:u,quality:d,orientation:c,name:m,isAIGenerated:f,itemSubtype:h,bestAssetForAI:v,containerRef:p,creditCost:b}=e,{attributionEnabled:x}=(0,i.J)();return x?null:(0,r.jsxs)("aside",{className:(0,o.cx)("absolute flex flex-col transition-all","vertical"!==c?"right-4 top-4 gap-1.5 xs:gap-3":"right-3 top-3 gap-2"),children:[(0,r.jsx)(C.DownloadVideoButton,{resourceId:t,authorName:s.name,premium:u,quality:d,orientation:c,name:m,poster:n,itemSubtype:h,creditCost:b}),"thumbnail"===l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j,{id:t,name:m,authorName:s.name,posterUrl:n,isPremium:u,isAIGenerated:f,bestAssetForAI:v}),(0,r.jsx)(a.AddToCollection,{type:"video",id:t,location:l,tooltipProps:{side:"left"},containerRef:p})]})]})}},3797:function(e,t,n){n.d(t,{A:function(){return s}});var r=n(97458),o=n(58058),a=n.n(o),i=n(51780),l=n(50987);let s=e=>{let{children:t,as:n,onHandleClick:o,name:s}=e,{attributionEnabled:u}=(0,l.J)(),d=(0,i.useRouter)(),c="block h-full w-full";return u?(0,r.jsx)("div",{className:c,children:t}):(0,r.jsx)(a(),{href:{pathname:d.pathname,query:d.query},as:n,className:c,shallow:!0,scroll:!1,onClick:o,"aria-label":s,prefetch:!1,children:t})}},29708:function(e,t,n){n.d(t,{n:function(){return d}});var r=n(97458),o=n(53344),a=n.n(o),i=n(50987),l=n(28851),s=n(65229);let u=a()(()=>n.e(7475).then(n.bind(n,77475)).then(e=>e.AttributionThumbnail),{loadableGenerated:{webpack:()=>[77475]},ssr:!1}),d=e=>{let{author:t,id:n,name:o,position:a,premium:d,videoSrc:c,duration:m,enableGaTracker:f,isInViewport:h,posterSrc:v,videoUrl:p,orientation:b}=e,{attributionEnabled:x}=(0,i.J)();if(x){var g,_;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("video",{width:480,height:270,className:s.R,preload:"metadata",autoPlay:!1,poster:v,muted:!0,playsInline:!0,loop:!0,"aria-hidden":"true",children:h&&(0,r.jsx)("source",{"data-src":c,type:"video/mp4"})}),(0,r.jsx)(u,{authorId:null!==(g=null==t?void 0:t.id)&&void 0!==g?g:0,authorName:null!==(_=null==t?void 0:t.name)&&void 0!==_?_:"",resourceUrl:p,resourceId:n,resourceName:o,mediaUrl:v,mediaWidth:640,mediaHeight:360,isAIGenerated:!1,isPremium:d,resourceType:"video"})]})}return(0,r.jsx)(l.VideoContentComponent,{poster:v,videoSrc:c,duration:m,name:o,author:t,isInViewport:h,id:n,premium:d,position:a,enableGaTracker:f,checkHover:!0,orientation:b})}},37908:function(e,t,n){n.d(t,{v:function(){return u}});var r=n(97458),o=n(57291),a=n(63123),i=n(70870),l=n(18666),s=n(38012);let u=e=>{let{id:t,name:n,poster:u,orientation:d,containerRef:c}=e,{width:m}=(0,i.n)(c),f=!!(m&&m>=a.CC);return(0,r.jsx)(l.B,{buttonClassName:(0,o.cx)("absolute bottom-4 left-4 flex items-center gap-1 text-sm font-semibold transition-opacity",s.p,f?"px-4 py-0":"p-3","vertical"!==d?"bottom-4 left-4":"bottom-3 left-3"),id:t,name:null!=n?n:"",preview:{width:0,height:0,url:null!=u?u:""},type:"video",inThumbnail:!0,showLabel:f})}},47874:function(e,t,n){n.d(t,{z:function(){return r}});let r=e=>e.includes(".")?e.toLowerCase().split(".").pop():""},14534:function(e,t,n){n.d(t,{S:function(){return r}});let r=async e=>{let{videoId:t,orientation:n,walletId:r,optionId:o,action:a}=e,i=new URLSearchParams;n&&i.set("orientation",n),r&&i.set("walletId",r),o&&i.set("optionId",o.toString()),a&&i.set("action",a);let l=await fetch("/api/video/".concat(t,"/download?").concat(i.toString()));return l.ok?{success:!0,data:await l.json()}:429===l.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:403===l.status?{success:!1,data:"FORBIDDEN"}:401===l.status||405===l.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===l.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}}},48526:function(e,t,n){n.d(t,{M:function(){return d}});var r=n(59243),o=n(43186),a=n(52983);let i=(e,t)=>{let n=l(e,t);if(!n)throw Error("There are no download parameters for ".concat(e.name," in ").concat(t));return{action:n}},l=(e,t)=>{var n;let r=null===(n=s[e.name])||void 0===n?void 0:n[t];if(!r)throw Error("There are no download parameters for ".concat(e.name," in ").concat(t));return r},s={regenerateVideo:{detail:"ai_tool_regenerate_video_with_ai",postDownload:"ai_tool_regenerate_video_with_ai_after_download",thumbnail:"ai_tool_regenerate_video_with_ai_thumbnail"},upscaleVideo:{detail:"ai_tool_video_upscale",postDownload:"ai_tool_video_upscale_after_download"},soundEffectsVideo:{detail:"ai_tool_video_sound_effects",postDownload:"ai_tool_sound_effects_after_download"},videoEditor:{detail:"ai_tool_video_edit",thumbnail:"ai_tool_video_edit_thumbnail"},extendVideo:{detail:"ai_tool_video_extend"},applyTuneToVideo:{detail:"ai_tool_video_edit_audio"}};var u=n(14534);let d=e=>{let{tool:t,location:n,resourceId:l,bestAssetForAI:s}=e,{action:d}=i(t,n),c=(0,r.L)(),m=(0,o.J)();return(0,a.useCallback)(async()=>{var e;let t=await (0,u.S)({videoId:l,walletId:c,action:d,...s&&{optionId:s}});if(!(null==t?void 0:t.success)||!(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.url))throw Error("Failed to download video");return m(),t.data.url},[d,l,m,c,s])}},68344:function(e,t,n){n.d(t,{G:function(){return s}});var r=n(19170),o=n(51780),a=n(10893),i=n(52983),l=n(65724);let s=e=>{let{resourceId:t,location:n,origin:s,limitModalMediaUrl:u,resourceName:d}=e,{openToast:c}=(0,r.x_)(),{t:m}=(0,a.$G)("error"),{push:f}=(0,o.useRouter)(),h=(0,l.W)(t,s,n);return(0,i.useCallback)((e,t)=>{let n={DOWNLOAD_LIMIT_REACHED:()=>{h({origin:s,resourceData:{name:d,resourceType:"video",mediaUrl:u},checkoutQueryParams:t,modalType:"downloadLimit"})},AUTHENTICATION_ERROR:()=>{f("/oauth-logout")},NOT_FOUND:()=>{c({message:m("notFound")})},UNKNOWN_ERROR:()=>{c({message:m("unknown")})}};if("string"==typeof e.data&&e.data in n)return n[e.data]()},[h,s,d,u,f,c,m])}},5479:function(e,t,n){n.d(t,{l:function(){return s}});var r=n(97813),o=n(91657),a=n(51780),i=n(52983),l=n(46615);let s=e=>{let{id:t,url:n,related:s,nativeAspectRatio:u,track:d,uuid:c,fromElement:m}=e,{query:{aspect_ratio:f}}=(0,a.useRouter)(),h=(0,i.useCallback)(e=>{if(!n)return"";if(null==e?void 0:e.toString()){let t=(0,r.X)(e),a=t===o._y?"":t;return"".concat(n,"/").concat(a)}return n},[n]),v=(0,i.useMemo)(()=>s?h():f&&f!==u?h(f):h(),[s,f,h,u]);return(0,l.f)(t,v,{...m&&{fromElement:m},track:d,...c&&{uuid:c}})}},91050:function(e,t,n){n.d(t,{Ch:function(){return x},bd:function(){return f},Ft:function(){return v}});var r=n(25983),o=n(7616),a=n(52983),i=n(25240),l=n(44932),s=n(12297),u=n(24399),d=n(73139);let c=(0,d.xu)(e=>{let{locale:t,id:n}=e;return(0,d.n7)((0,u.cn)(async()=>{if(null===n)return null;let e=await fetch("/api/video?id=".concat(n,"&locale=").concat(t));if(!e.ok)throw Error("Failed to fetch video ".concat(n));return await e.json()}))},s.vZ),m=()=>{let e=(0,r.ZK)(),t=(0,o.Dv)(l.D),n=(0,o.Dv)(c({locale:e,id:t}));return"hasData"===n.state?n.data:null},f=()=>{let e=(0,i.yd)(),t=m();return(0,a.useMemo)(()=>[null===t,null!=t?t:{...e,relatedVideos:[],relatedPhotos:[],relatedVectors:[],relatedPsds:[]}],[e,t])},h=(0,a.createContext)([]),v=()=>(0,a.useContext)(h);var p=n(97458),b=n(61462);let x=e=>{let{videos:t,children:n,itemsPerPage:r,...o}=e;return(0,p.jsx)(h.Provider,{value:t,children:(0,p.jsx)(b.b,{...o,items:t,itemsPerPage:r,children:n})})}},32490:function(e,t,n){n.d(t,{R:function(){return o}});var r=n(52983);let o=e=>{let{containerRef:t,threshold:n=0,disconnect:o=!0,rootMargin:a="0px"}=e,[i,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=t.current;if(!e)return;let r=new IntersectionObserver(e=>{e.forEach(e=>{l(e.isIntersecting),o&&e.isIntersecting&&r.disconnect()})},{threshold:n,rootMargin:a});return r.observe(e),()=>{e&&r.unobserve(e),o&&r.disconnect()}},[t,o,a,n]),i}},15847:function(e,t,n){n.d(t,{s:function(){return o},P:function(){return a}});var r=n(1850);let o=Object.values({"16:9":"16:9","9:16":"9:16","256:135":"256:135","135:256":"135:256","1:1":"1:1","4:3":"4:3"}),a=r.z.enum(o)},91657:function(e,t,n){n.d(t,{NE:function(){return s},Vs:function(){return l},_y:function(){return o}});var r=n(1850);let o="horizontal",a="vertical",i="square",l=[o,a,i],s=o;r.z.enum([o,a,i])},62897:function(e,t,n){n.d(t,{Z:function(){return a},w:function(){return i}});let r=e=>e<10?"0".concat(e):e,o=e=>{let t=Math.floor(e/60);return{minutes:t,seconds:e-60*t}},a=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{minutes:n,seconds:a}=o(e);return t?"".concat(r(n),":").concat(r(a)):"".concat(n,":").concat(r(a))},i=e=>{let{minutes:t,seconds:n}=o(e),r="PT";return t>0&&(r+="".concat(t,"M")),r+="".concat(n,"S")}},97813:function(e,t,n){n.d(t,{X:function(){return a}});var r=n(15847);let o=n(1850).z.enum(r.s),a=e=>{if(!e)return"horizontal";if(!o.safeParse(e).success)throw Error("Invalid aspect ratio: ".concat(e));let[t,n]=e.split(":").map(Number);return t===n?"square":t<n?"vertical":"horizontal"}}}]);